{% extends "base.html" %}

{% block title %}{{ tool.title }} - The Derivative Desk{% endblock %}

{% block styles %}
<link rel="stylesheet" href="/static/css/tool.css">
{% endblock %}

{% block content %}
<header class="tool-header">
    <h1>{{ tool.title }}</h1>
    <p>{{ tool.description }}</p>
</header>
<main>
    <!-- Input Section -->
    <section class="input-section">
        <h2>Inputs</h2>
        <form id="tool-form">
            {% for input in tool.inputs %}
                <label for="{{ input.id }}">
                    {{ input.label }}
                    {% if not input.optional %}
                        <span class="required">*</span>
                    {% endif %}
                </label>
                <input 
                    type="{{ input.type }}" 
                    id="{{ input.id }}" 
                    name="{{ input.id }}" 
                    placeholder="{{ input.placeholder }}" 
                    {% if input.step %} step="{{ input.step }}" {% endif %} 
                    {% if not input.optional %} required {% endif %} 
                >
            {% endfor %}
            <!-- Toggle Section -->
            {% if tool.toggle %}
            <div class="toggle-section">
                <label for="toggle-input" class="toggle-label">{{ tool.toggle.label }}</label>
                <label class="toggle">
                    <input 
                        type="checkbox" 
                        id="toggle-input" 
                        name="toggle"
                        {% if tool.toggle.default_checked %}checked{% endif %}
                    >
                    <span class="slider"></span>
                </label>
            </div>
            {% endif %}

            <button type="submit" class="btn-submit">Calculate</button>
        </form>
    </section>
    
    <!-- Results Section -->
    <section class="results-section">
        <h2>Results</h2>
        <div id="results">
            {% for output in tool.outputs %}
                <p>{{ output }}: <span id="result-{{ loop.index }}">N/A</span></p>
            {% endfor %}
        </div>
    </section>

    <!-- Visualization Section (Optional) -->
    {% if tool.visualization %}
        <section class="visualization-section">
            <h2>Visualization</h2>
            <div id="visualization-container">
                <canvas id="chart"></canvas>
            </div>
        </section>
    {% endif %}
</main>
{% endblock %}


{% block scripts %}
<script src="/static/js/tool.js"></script>
{% endblock %}
